<?xml version="1.0" encoding="UTF-8"?>
	<!DOCTYPE mapper
  	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  	"https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  		  <mapper namespace="com.winter.app.wishlist.WishlistDAO">
  		 <insert id="add" parameterType="AccountDTO">
  		 	INSERT INTO WISHLIST VALUES(#{productNum},#{userName})
  		 </insert>
  		  
  		  
  		  <select id="list" parameterType="Map" resultType="ProductDTO" >
			SELECT * FROM 
			(SELECT ROWNUM R , PW.* FROM
			(SELECT PRODUCTNUM ,PRODUCTNAME,PRODUCTRATE 
			FROM PRODUCT JOIN WISHLIST USING (PRODUCTNUM) 
			WHERE USERNAME = #{accountDTO.userName} 
			ORDER BY PRODUCTNUM DESC) PW)  
			WHERE R BETWEEN #{pager.startRow} AND #{pager.lastRow}
  		  </select>
  		  
  		  <select id="totalCount" parameterType="AccountDTO" resultType="Long">
  		  	SELECT COUNT(PRODUCTNUM) FROM WISHLIST WHERE USERNAME = #{userName}
  		  </select>
  		  
  		  </mapper>	